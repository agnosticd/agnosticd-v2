= Namespace Configuration

The `namespace` configuration is designed to deploy OpenShift workloads directly to existing namespaces without requiring infrastructure provisioning or bastion hosts. This is ideal for deploying applications to shared clusters or when you only have namespace-level access.

== Features

* No infrastructure provisioning required
* Direct connection to OpenShift clusters
* Support for both token and user/password authentication
* Simplified deployment for namespace-scoped workloads
* No SSH or bastion host dependencies

== Usage

1. Copy `sample_vars.yml` to create your deployment variables file
2. Configure your OpenShift connection details
3. Define the workloads to deploy in `ocp_workloads_namespaced`
4. Run the deployment

=== Example Deployment

[source,bash]
----
 ansible-navigator run ansible/main.yml -e @ansible/configs/namespace/sample_vars.yml -e @/secrets/ns.yaml -e ACTION=create
----

== Required Variables

* `sandbox_openshift_api_url`: OpenShift API endpoint
* `sandbox_openshift_namespace`: Target namespace
* Authentication (choose one):
  ** `sandbox_openshift_api_token`: API token
  ** `sandbox_openshift_user` + `sandbox_openshift_password`: Username/password

== Optional Variables

* `sandbox_openshift_cluster`: Cluster name for identification
* `sandbox_openshift_apps_domain`: Apps domain for route creation
* `sandbox_openshift_credentials`: Additional credential objects

== Workloads

Define workloads in the `workloads` list. Each workload should be a role that can deploy to OpenShift using the provided connection variables.

Example:
[source,yaml]
----
workloads:
  - workload_example
  - my_custom_workload
----

Workloads need to be available to the environment. So the AgnosticV config needs to add the roles / collections in its requirements section.

E.g.
[source,yaml]
----
requirements_content:
  collections:
  # Core OpenShift Workloads
  - name: https://github.com/agnosticd/core_workloads.git
    type: git
    version: main
  roles:
  - name: namespaced_ocp_workload_example
    src: https://github.com/rhpds/namespaced_ocp_workload_example.git
    version: main

----